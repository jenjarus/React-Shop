(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{3665:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n(9496)}])},5685:function(e,s,n){"use strict";var r=n(5893);let i=()=>(0,r.jsx)("div",{className:"loading",children:(0,r.jsx)("div",{className:"loading__image",children:(0,r.jsx)("img",{src:"https://i.gifer.com/VAyR.gif",alt:"loading"})})});s.Z=i},9496:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return m}});var r=n(5893),i=n(7294),t=n(1163),a=n(9473),c=n(2157),u=n(5685),l=n(6331),o=n(9839);let d=()=>{let e=(0,a.I0)(),s=(0,a.v9)(e=>e.users.users),n=(0,t.useRouter)(),[d,m]=(0,i.useState)(!1),[g,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),[x,_]=(0,i.useState)(""),j=s=>{s.id=new Date().getTime(),delete s["confirm-password"],e({type:"SET_SIGNUP",user:s}),e((0,c.m)(s.id)),setTimeout(()=>{n.replace("/")},3e3)},w=()=>(0,r.jsxs)("div",{className:"form-success form-success--signup",children:[(0,r.jsx)("div",{className:"form-success__title",children:"Регистрация прошла успешно"}),(0,r.jsx)("div",{className:"form-success__subtitle",children:"Вы успешно авторизовались"})]}),v=()=>Object.assign({},N(),Z()),N=()=>{if(p&&p!==x)return{"confirm-password":{name:"confirm-password",error:!0,customText:"Пароли не совпадают"}}},Z=()=>{if(g&&s.find(e=>e.login===g))return{login:{name:"login",error:!0,customText:"Логин уже используется"}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"page-title",children:"Регистрация"}),d?(0,r.jsx)(u.Z,{}):(0,r.jsx)("div",{className:"signup",children:(0,r.jsxs)(o.Z,{nameForm:"signup",successText:w,sendMessage:j,customErrorFunc:v,textBtn:"Зарегистрироваться",children:[(0,r.jsx)(l.Z,{name:"login",required:!0,onChanges:e=>h(e.target.value),children:"Логин"}),(0,r.jsx)(l.Z,{type:"password",name:"password",required:!0,onChanges:e=>f(e.target.value),children:"Пароль"}),(0,r.jsx)(l.Z,{type:"password",name:"confirm-password",required:!0,onChanges:e=>_(e.target.value),children:"Подтвердите пароль"}),(0,r.jsx)(l.Z,{name:"name",children:"Ваше ФИО"}),(0,r.jsx)(l.Z,{type:"phone",name:"phone",mask:"+7 (999) 999-99-99",required:!0,children:"Ваш телефон"}),(0,r.jsx)(l.Z,{type:"email",name:"email",required:!0,children:"Ваш e-mail"})]})})]})};var m=d}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3665)}),_N_E=e.O()}]);