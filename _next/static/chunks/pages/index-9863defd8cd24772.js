(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9166)}])},3771:function(e,t,n){"use strict";function s(e){return{type:"SET_PRODUCT_TO_BASKET",item:e}}function a(e,t){return{type:"EDIT_PRODUCT_COUNT",id:e,qty:t}}function r(e){return{type:"DELETE_PRODUCT",id:e}}function i(){return{type:"RESET_PRODUCT"}}n.d(t,{Ir:function(){return r},gn:function(){return s},k:function(){return a},ms:function(){return i}})},7455:function(e,t,n){"use strict";function s(e){return{type:"SET_PRODUCT_TO_FAVORITE",id:e}}function a(e){return{type:"DELETE_PRODUCT_TO_FAVORITE",id:e}}n.d(t,{P:function(){return a},o:function(){return s}})},423:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var s,a,r=n(5893),i=n(7294);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var l=function(e){return i.createElement("svg",c({width:100,height:100,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=i.createElement("path",{d:"M5 12h14"})))};function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var u=function(e){return i.createElement("svg",o({width:100,height:100,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=i.createElement("path",{d:"M12 5v14M5 12h14"})))};let d=e=>{let{setCount:t,customClass:n="",count:s=1}=e;n=n?" "+n:"";let a=()=>{t(e=>e+1)},i=()=>{s>1&&t(e=>e-1)},c=e=>{t(+e.target.value.trim())},o=e=>{/[0-9]/.test(e.key)||e.preventDefault()};return(0,r.jsxs)("div",{className:"input-qty"+n,children:[(0,r.jsx)("button",{className:"btn btn--transparent input-qty__minus",onClick:i,children:(0,r.jsx)(l,{})}),(0,r.jsx)("input",{type:"text",className:"input-qty__input",value:s,onKeyPress:o,onChange:c}),(0,r.jsx)("button",{className:"btn btn--transparent input-qty__plus",onClick:a,children:(0,r.jsx)(u,{})})]})};var m=d},8610:function(e,t,n){"use strict";var s=n(5893),a=n(7294);let r=e=>{let{classes:t="",children:n,...r}=e,i=a.Children.map(n,e=>a.isValidElement(e)?a.cloneElement(e,{...r}):e);return(0,s.jsx)("div",{className:t,children:i})};t.Z=r},5499:function(e,t,n){"use strict";var s=n(5893),a=n(7294);let r=e=>{let{setDataForm:t,dataForm:n,nameForm:r,errorForm:i,children:c,onChanges:l,...o}=e,{name:u,required:d,...m}=o,[h,p]=(0,a.useState)(!1),f=i[u],_=i[u]?" form-input__error":"",j=r+"-"+u,x=(0,a.useRef)(null),v=()=>{let e=n;e[x.current.name]={type:x.current.type,name:x.current.name,value:x.current.value,required:x.current.required},t(e)},g=()=>{let e=n;delete e[u],t(e)},w=e=>{let s=n;s[e.target.name]={type:e.target.type,name:e.target.name,value:e.target.value,required:e.target.required},t(e=>({...e,...s})),l&&l(e),p(!!e.target.value.length)},b=()=>{if(f){let e=f.customText?f.customText:"Заполните поле";return(0,s.jsx)("span",{className:"form-input__error-text",children:e})}};return(0,a.useEffect)(()=>(v(),()=>{g()}),[]),(0,s.jsxs)("div",{className:"form-input",children:[(0,s.jsx)("textarea",{className:(h?"focused":"")+_,name:u,id:j,required:d,onChange:w,ref:x,...m}),c&&(0,s.jsxs)("label",{htmlFor:j,children:[c,d&&" *"]}),(0,s.jsx)(b,{})]})};t.Z=r},1328:function(e,t,n){"use strict";var s=n(5893),a=n(7294),r=n(9473),i=n(2821),c=n(6066);let l=()=>{let e=(0,r.v9)(e=>e.viewed.items),[t,n]=(0,a.useState)(!1),[l,o]=(0,a.useState)([]),u={dots:!0,arrows:!1,infinite:!0,slidesToShow:4,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:499,settings:{slidesToShow:1,slidesToScroll:1}}]},d=async e=>{n(!0),o([]);let t=await Promise.all(e.map(async e=>{try{let t=await fetch("https://api.punkapi.com/v2/beers/".concat(e)),n=await t.json();return n[0]}catch(s){console.log(s)}}));o(t),n(!1)};return(0,a.useEffect)(()=>{d(e)},[e]),(0,s.jsxs)("div",{className:"viewed",children:[(0,s.jsx)("div",{className:"viewed-title",children:"Просмотренное"}),(()=>{if(l.length&&!t)return(0,s.jsx)(c.Z,{className:"viewed-items",...u,children:l.map(e=>(0,s.jsx)(i.Z,{data:e},e.id))})})()]})};t.Z=l},2821:function(e,t,n){"use strict";var s=n(5893),a=n(7294),r=n(1664),i=n.n(r);n(5675);var c=n(9473),l=n(3771),o=n(7455),u=n(423),d=n(8175),m=n(2279);let h=e=>{let{data:t}=e,n=(0,c.I0)(),r=(0,c.v9)(e=>e.favorite.items),h=r.find(e=>e===t.id),[p,f]=(0,a.useState)(1),[_,j]=(0,a.useState)(!1),[x,v]=(0,a.useState)(!!h),g=()=>{1>=+p&&f(1);let e={id:t.id,name:t.name,price:t.ibu,qty:p};n((0,l.gn)(e)),j(!0)},w=()=>{h?(n((0,o.P)(t.id)),v(!1)):(n((0,o.o)(t.id)),v(!0))},b=()=>(0,s.jsxs)(d.Z,{title:"Товар добавлен в корзину",isOpen:_,closeModal:()=>j(!1),children:[(0,s.jsx)("div",{className:"modal-window__name-product",children:t.name}),(0,s.jsxs)("div",{className:"modal-window__buttons",children:[(0,s.jsx)(i(),{href:"/basket",className:"btn",children:"Перейти в корзину"}),(0,s.jsx)("button",{onClick:()=>j(!1),className:"btn btn--transparent",children:"Продолжить покупки"})]})]});return(0,a.useEffect)(()=>{v(!!h)},[h]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"catalog-item",children:(0,s.jsxs)("div",{className:"catalog-item__wrapper",children:[(0,s.jsx)("div",{className:"catalog-item__favorite"+(x?" active":""),children:(0,s.jsx)("span",{className:"btn catalog-item__favorite-btn",onClick:w,children:(0,s.jsx)(m.Z,{})})}),(0,s.jsxs)(i(),{href:"/catalog/".concat(t.id),className:"catalog-item__link",children:[(0,s.jsx)("div",{className:"catalog-item__image",children:(0,s.jsx)("img",{src:t.image_url,alt:"img_catalog"})}),(0,s.jsx)("div",{className:"catalog-item__name",children:t.name}),(0,s.jsxs)("div",{className:"catalog-item__price",children:[t.ibu," $"]})]}),(0,s.jsx)(u.Z,{count:p,setCount:f}),(0,s.jsx)("div",{className:"catalog-item__buy",children:(0,s.jsx)("span",{className:"btn catalog-item__buy-btn",onClick:g,children:"Купить"})})]})}),(0,s.jsx)(b,{})]})};t.Z=h},9166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var s=n(5893),a=n(9008),r=n.n(a),i=n(1664),c=n.n(i),l=n(7294),o=n(1328),u=n(9473),d=n(9839),m=n(6331),h=n(5499),p=n(8610);let f=()=>{let e=(0,u.v9)(e=>e.users.users),t=(0,u.v9)(e=>e.authentication.id),[n,a]=(0,l.useState)({}),[r,i]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),f=e=>{let t=e.name?"Имя: ".concat(e.name):"",n=e.phone?"Телефон: ".concat(e.phone):"",s=e.email?"Email: ".concat(e.email):"",a=e.question?"Вопрос: ".concat(e.question):"",r='\nПредставим что это пришло на почту\n\nФорма "Заказать консультация"\n'.concat(t,"\n").concat(n,"\n").concat(s,"\n-------\n").concat(a,"\n        ");console.log(r)};(0,l.useEffect)(()=>{a(e.find(e=>e.id===t))},[t]),(0,l.useEffect)(()=>{n&&(i(n.phone),o(n.email))},[n]);let _=()=>(0,s.jsx)("div",{className:"form__consult",children:(0,s.jsxs)("div",{className:"form__consult-wrapper",children:[(0,s.jsx)("div",{className:"form__consult-title",children:"Есть вопросы - получите консультацию"}),(0,s.jsxs)(d.Z,{nameForm:"consult",sendMessage:f,children:[(0,s.jsxs)(p.Z,{classes:"form__consult-line",children:[(0,s.jsx)(m.Z,{name:"name",children:"Ваше имя"}),(0,s.jsx)(m.Z,{type:"email",name:"email",required:!0,defaultValue:c,children:"Ваш e-mail"}),(0,s.jsx)(m.Z,{type:"phone",name:"phone",mask:"+7 (999) 999-99-99",defaultValue:r,children:"Ваш телефон"})]}),(0,s.jsx)(p.Z,{classes:"form__consult-line",children:(0,s.jsx)(h.Z,{name:"question",required:!0,rows:3,children:"Вопрос"})})]})]})});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(_,{})})};function _(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"Черное красное - магазин пива"}),(0,s.jsx)("meta",{name:"description",content:"Черное красное - магазин пива"}),(0,s.jsx)("meta",{name:"keywords",content:"Черное красное, магазин пива, магазин, пиво"}),(0,s.jsx)("link",{rel:"icon",href:"".concat("/React-Shop","/favicon.ico")})]}),(0,s.jsxs)("div",{className:"main-page",children:[(0,s.jsxs)("div",{className:"main-page__zaglushka",children:["Страница пока в разарботке.",(0,s.jsx)("br",{})," Переходите сразу в каталог"]}),(0,s.jsx)("div",{className:"main-page__buttons",children:(0,s.jsx)(c(),{href:"/catalog",className:"btn main-page--main-page",children:"Перейти в каталог"})})]}),(0,s.jsx)(o.Z,{}),(0,s.jsx)(f,{})]})}}},function(e){e.O(0,[959,66,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);